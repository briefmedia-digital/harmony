!function(){function a(a,c){var d,e,f={slotRenderEnded:[]},g=new Date;b("init",{msg:"Creating new ad slot.",conf:c});var h=c.mapping||[],i=c.companion||!1,j=(c.interstitial||!1,c.targeting||{});d=c.interstitial?googletag.defineOutOfPageSlot(c.adunit,c.id):googletag.defineSlot(c.adunit,c.sizes,c.id),d.divId=c.id,d.name=c.name,d.breakpoint=c.breakpoint,d.sizes=c.sizes,d.adunit=c.adunit;for(e in j)d.setTargeting(e,j[e]);return d.defineSizeMapping(h),"function"==typeof c.callback&&(f.slotRenderEnded.push(c.callback),b("init","Attached provided callback for "+c.name)),d.on=function(a,c){f[a]=f[a]||[],f[a].push(c),b("init","Attached new callback for "+a)},a.addEventListener("slotRenderEnded",function(a){var e,h,i;if(a.slot===d)for(b("event","slotRenderEnded for "+c.name),i=new Date,b("metric",{event:"Total load time",slot:c.name,value:i-g}),h=f.slotRenderEnded.length,e=0;h>e;e+=1)f.slotRenderEnded[e](a)}),i&&d.addService(googletag.companionAds()),d.addService(a),d}var b,c,d,e;window.Harmony=function(g){return g=g||{},e=g.jitLoad||!1,c=function(a){return a in c?c[a]:{on:f.noop,setTargeting:f.noop}},d=function(a){return a in d?d[a]:[]},f.slotCount=0,b=Lumberjack(g.forceLog),b("init","Harmony defined"),{load:function(e){var g,h,i,j,k,l,m=googletag.pubads();for(e=e||{},k=e.slots||[],l=k.length,b("load","Generating ad slots."),h=0;l>h;h+=1)try{j=f.scrubSlot(k[h]),i=a(m,j),c[j.name]=i,d[j.breakpoint]=d[j.breakpoint]||[],d[j.breakpoint].push(i)}catch(n){b("error",{type:"load() error",id:k[h].id,name:k[h].name,conf:k[h],msg:n.message})}b("load","Applying pubads targeting."),k=e.targeting;for(g in k)j=k[g],b("load","- "+g+" = "+j),m.setTargeting(g,j);b("load","Harmony config loaded.")},log:b,slot:c,breakpoint:d,defineSlot:function(e){try{var g=googletag.pubads(),h=a(g,f.scrubSlot(e));c[e.name]=h,d[e.breakpoint]=d[e.breakpoint]||[],d[e.breakpoint].push(h)}catch(i){b("error",{type:"defineSlot() error",id:e.id,name:e.name,conf:e,msg:i.message})}},show:{breakpoint:function(a){var c,f,g,h;if(!e){b("show","Showing ads at breakpoint "+a);try{for(f=d[a].length,c=0;f>c;c+=1)g=d[a][c].divId,googletag.display(g),h=document.getElementById(g),h&&(h.style.display="block")}catch(i){b("error",{msg:"Failed to show breakpoint "+a,err:i})}}},slot:function(a){var d;if(!e){b("show","Showing ad at slot "+a);try{d=c[a].divId,googletag.display(d),document.getElementById(d).style.display="block"}catch(f){b("error",{msg:"Failed to show slot "+a,err:f})}}}},hide:{breakpoint:function(a){var c,f,g,h;if(!e){b("hide","Hiding ads at breakpoint "+a);try{for(f=d[a].length,c=0;f>c;c+=1)g=d[a][c].divId,h=document.getElementById(g),h&&(h.style.display="none")}catch(i){b("error",{msg:"Failed to hide breakpoint "+a,err:i})}}},slot:function(a){var d;if(!e){b("hide","Hiding ad at slot "+a);try{d=c[a].divId,document.getElementById(d).style.display="none"}catch(f){b("error",{msg:"Failed to hide slot "+a,err:f})}}}}}};var f={slotCount:0,noop:function(){},scrubSlot:function(a){var b,d=document.getElementById(a.id);if(a.name in c&&(d&&d.innerHTML&&(this.slotCount+=1,b="-"+this.slotCount,d.id+=b,c[a.name].divId=d.id,c[a.name+b]=c[a.name],d=document.getElementById(a.id)),d&&(this.slotCount+=1,b="-"+this.slotCount,d.id+=b,a.id+=b,a.name+=b)),!d)throw Error("Ad slot container was not found in the DOM.");return a}}}();