!function(){function a(a,c){var d,e,f={slotRenderEnded:[]},g=new Date;b("init","Slot "+c.name+" defined.");var h=c.mapping||[],i=c.companion||!1,j=(c.interstitial||!1,c.targeting||{});d=c.interstitial?googletag.defineOutOfPageSlot(c.adunit,c.id):googletag.defineSlot(c.adunit,c.sizes,c.id),d.divId=c.id,d.name=c.name,d.breakpoint=c.breakpoint,d.sizes=c.sizes,d.adunit=c.adunit;for(e in j)d.setTargeting(e,j[e]);return d.defineSizeMapping(h),"function"==typeof c.callback&&(f.slotRenderEnded.push(c.callback),b("init","Attached provided callback for "+c.name)),d.on=function(a,c){f[a]=f[a]||[],f[a].push(c),b("init","Attached new callback for "+a)},a.addEventListener("slotRenderEnded",function(a){var e,h,i;if(a.slot===d)for(b("event","slotRenderEnded for "+c.name),i=new Date,b("metric",{event:"Total load time",slot:c.name,value:i-g}),h=f.slotRenderEnded.length,e=0;h>e;e+=1)f.slotRenderEnded[e](a)}),i&&d.addService(googletag.companionAds()),d.addService(a),d}var b;window.Harmony=function(c){c=c||{};var d=c.jitLoad||!1,e=function(a){return a in e?e[a]:{on:g,setTargeting:g}},f=function(a){return a in f?f[a]:[]},g=function(){},h=function(a){var c,d=document.getElementById(a.id);return a.name in e&&(d&&d.innerHTML&&(window.Harmony.slotCount+=1,c="-"+window.Harmony.slotCount,d.id+=c,e[a.name].divId=d.id,e[a.name+c]=e[a.name],d=document.getElementById(a.id)),d&&(window.Harmony.slotCount+=1,c="-"+window.Harmony.slotCount,d.id+=c,a.id+=c,a.name+=c)),d||b("error",{id:a.id,msg:"Ad slot container was not found in the DOM."}),a};return b=Lumberjack(c.forceLog),b("init","Harmony defined"),{load:function(c){b("load","Generating ad slots.");var d,g,i,j=c.slots,k=j.length,l=googletag.pubads();for(d=0;k>d;d+=1)i=h(j[d]),g=a(l,i),e[i.name]=g,f[i.breakpoint]=f[i.breakpoint]||[],f[i.breakpoint].push(g);b("load","Applying pubads targeting."),j=c.targeting;for(d in j)i=j[d],b("load","- "+d+" = "+i),l.setTargeting(d,i);b("load","Harmony config loaded.")},log:b,slot:e,breakpoint:f,defineSlot:function(b){var c=googletag.pubads(),d=a(c,h(b));e[b.name]=d,f[b.breakpoint]=f[b.breakpoint]||[],f[b.breakpoint].push(d)},show:{breakpoint:function(a){var c,e,g,h;if(!d){b("show","Showing ads at breakpoint "+a);try{for(e=f[a].length,c=0;e>c;c+=1)g=f[a][c].divId,googletag.display(g),h=document.getElementById(g),h&&(h.style.display="block")}catch(i){b("error",{msg:"Failed to show breakpoint "+a,err:i})}}},slot:function(a){var c;d||(b("show","Showing ad at slot "+a),c=e[a].divId,googletag.display(c),document.getElementById(c).style.display="block")}},hide:{breakpoint:function(a){var c,e,g,h;if(!d){b("hide","Hiding ads at breakpoint "+a);try{for(e=f[a].length,c=0;e>c;c+=1)g=f[a][c].divId,h=document.getElementById(g),h&&(h.style.display="none")}catch(i){b("error",{msg:"Failed to hide breakpoint "+a,err:i})}}},slot:function(a){var c;d||(b("hide","Hiding ad at slot "+a),c=e[a].divId,document.getElementById(c).style.display="none")}}}},window.Harmony.slotCount=window.Harmony.slotCount||0}();