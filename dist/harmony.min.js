!function(){function a(a,c){b("event","Creating new ad slot.");var d,e,f={slotRenderEnded:[]},g=new Date;b("event","Slot "+c.name+" defined.");var h=c.mapping||[],i=c.companion||!1,j=(c.interstitial||!1,c.targeting||{});d=c.interstitial?googletag.defineOutOfPageSlot(c.adunit,c.id):googletag.defineSlot(c.adunit,c.sizes,c.id),d.divId=c.id,d.breakpoint=c.breakpoint,d.sizes=c.sizes,d.adunit=c.adunit;for(e in j)d.setTargeting(e,j[e]);return d.defineSizeMapping(h),"function"==typeof c.callback&&(f.slotRenderEnded.push(c.callback),b("event","Attached provided callback for "+c.name)),d.on=function(a,c){f[a]=f[a]||[],f[a].push(c),b("event","Attached new callback for "+a)},a.addEventListener("slotRenderEnded",function(a){var e,h,i;if(a.slot===d)for(b("event","slotRenderEnded for "+c.name),i=new Date,b("metric",{event:"Total load time",slot:c.name,value:i-g}),h=f.slotRenderEnded.length,e=0;h>e;e+=1)f.slotRenderEnded[e](a)}),i&&d.addService(googletag.companionAds()),d.addService(a),d}var b=Lumberjack();window.Harmony=function(c){c=c||{};var d=c.jitLoad||!1,e={},f={};return b("event","Harmony defined"),{load:function(c){b("event","Generating ad slots.");var d,g,h,i=c.slots,j=i.length,k=googletag.pubads();for(d=0;j>d;d+=1)h=i[d],g=a(k,h),e[h.name]=g,f[h.breakpoint]=f[h.breakpoint]||[],f[h.breakpoint].push(g);b("event","Applying pubads targeting."),i=c.targeting;for(d in i)h=i[d],b("event","- "+d+" = "+h),k.setTargeting(d,h);b("event","Harmony config loaded.")},log:b,slot:e,breakpoint:f,defineSlot:function(b){var c=googletag.pubads(),d=a(c,b);e[b.name]=d,f[b.breakpoint]=f[b.breakpoint]||[],f[b.breakpoint].push(d)},show:{breakpoint:function(a){var c,e,g,h;if(!d){b("event","Showing ads at breakpoint "+a);try{for(e=f[a].length,c=0;e>c;c+=1)g=f[a][c].divId,googletag.display(g),h=document.getElementById(g),h&&(h.style.display="block")}catch(i){b("error",{msg:"Failed to show breakpoint "+a,err:i})}}},slot:function(a){var c;d||(b("event","Showing ad at slot "+a),c=e[a].divId,googletag.display(c),document.getElementById(c).style.display="block")}},hide:{breakpoint:function(a){var c,e,g,h;if(!d){b("event","Hiding ads at breakpoint "+a);try{for(e=f[a].length,c=0;e>c;c+=1)g=f[a][c].divId,h=document.getElementById(g),h&&(h.style.display="none")}catch(i){b("error",{msg:"Failed to hide breakpoint "+a,err:i})}}},slot:function(a){var c;d||(b("event","Hiding ad at slot "+a),c=e[a].divId,document.getElementById(c).style.display="none")}}}}}();