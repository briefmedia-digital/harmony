!function(){function a(a,c){var d,e,f={slotRenderEnded:[]},g=new Date;b("init","Slot "+c.name+" defined.");var h=c.mapping||[],i=c.companion||!1,j=(c.interstitial||!1,c.targeting||{});d=c.interstitial?googletag.defineOutOfPageSlot(c.adunit,c.id):googletag.defineSlot(c.adunit,c.sizes,c.id),d.divId=c.id,d.name=c.name,d.breakpoint=c.breakpoint,d.sizes=c.sizes,d.adunit=c.adunit;for(e in j)d.setTargeting(e,j[e]);return d.defineSizeMapping(h),"function"==typeof c.callback&&(f.slotRenderEnded.push(c.callback),b("init","Attached provided callback for "+c.name)),d.on=function(a,c){f[a]=f[a]||[],f[a].push(c),b("init","Attached new callback for "+a)},a.addEventListener("slotRenderEnded",function(a){var e,h,i;if(a.slot===d)for(b("event","slotRenderEnded for "+c.name),i=new Date,b("metric",{event:"Total load time",slot:c.name,value:i-g}),h=f.slotRenderEnded.length,e=0;h>e;e+=1)f.slotRenderEnded[e](a)}),i&&d.addService(googletag.companionAds()),d.addService(a),d}var b,c,d,e,f;window.Harmony=function(h){return h=h||{},f=h.jitLoad||!1,c=function(a){return a in c?c[a]:{on:g.noop,setTargeting:g.noop}},d=function(a){return a in d?d[a]:[]},e=0,b=Lumberjack(h.forceLog),b("init","Harmony defined"),{load:function(e){b("load","Generating ad slots.");var f,h,i,j=e.slots,k=j.length,l=googletag.pubads();for(f=0;k>f;f+=1)i=g.scrubSlot(j[f]),h=a(l,i),c[i.name]=h,d[i.breakpoint]=d[i.breakpoint]||[],d[i.breakpoint].push(h);b("load","Applying pubads targeting."),j=e.targeting;for(f in j)i=j[f],b("load","- "+f+" = "+i),l.setTargeting(f,i);b("load","Harmony config loaded.")},log:b,slot:c,breakpoint:d,defineSlot:function(b){var e=googletag.pubads(),f=a(e,g.scrubSlot(b));c[b.name]=f,d[b.breakpoint]=d[b.breakpoint]||[],d[b.breakpoint].push(f)},show:{breakpoint:function(a){var c,e,g,h;if(!f){b("show","Showing ads at breakpoint "+a);try{for(e=d[a].length,c=0;e>c;c+=1)g=d[a][c].divId,googletag.display(g),h=document.getElementById(g),h&&(h.style.display="block")}catch(i){b("error",{msg:"Failed to show breakpoint "+a,err:i})}}},slot:function(a){var d;f||(b("show","Showing ad at slot "+a),d=c[a].divId,googletag.display(d),document.getElementById(d).style.display="block")}},hide:{breakpoint:function(a){var c,e,g,h;if(!f){b("hide","Hiding ads at breakpoint "+a);try{for(e=d[a].length,c=0;e>c;c+=1)g=d[a][c].divId,h=document.getElementById(g),h&&(h.style.display="none")}catch(i){b("error",{msg:"Failed to hide breakpoint "+a,err:i})}}},slot:function(a){var d;f||(b("hide","Hiding ad at slot "+a),d=c[a].divId,document.getElementById(d).style.display="none")}}}};var g={noop:function(){},scrubSlot:function(a){var d,e=document.getElementById(a.id);return a.name in c&&(e&&e.innerHTML&&(window.Harmony.slotCount+=1,d="-"+window.Harmony.slotCount,e.id+=d,c[a.name].divId=e.id,c[a.name+d]=c[a.name],e=document.getElementById(a.id)),e&&(window.Harmony.slotCount+=1,d="-"+window.Harmony.slotCount,e.id+=d,a.id+=d,a.name+=d)),e||b("error",{id:a.id,msg:"Ad slot container was not found in the DOM."}),a}}}();