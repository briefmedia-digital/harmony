!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Harmony=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function(){throw Error("[BaseClass] Abstract method was called without definition.")}},{}],2:[function(a,b,c){b.exports=function(a,b,c){return function(){var d,e=b.base;return b.base=c,d=a.apply(b,arguments),b.base=e,d}}},{}],3:[function(a,b,c){(function(c){function d(a){return a=a||{},a.extend=function(b){var d,g={base:a.base};b=b||{},a.base=g;for(d in a)a[d]instanceof c.Function&&(g[d]=e(a[d],a,g.base));for(d in b)a[d]=b[d];return"_create"in b?a._create():a._create=f,a},"_create"in a?a._create.call(a):a._create=f,a}var e=a("./base-swap.js"),f=a("./stub.js");d.Abstract=a("./abstract.js"),d.Stub=f,b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./abstract.js":1,"./base-swap.js":2,"./stub.js":4}],4:[function(a,b,c){b.exports=function(){}},{}],5:[function(a,b,c){(function(a){b.exports=function(b){var c,d={},e={},f=[],g=a.localStorage||{};return c=function(a,c){var h,i,a,j,k="string"==typeof a,l=typeof c,m="undefined"!==l&&"function"!==l;if("on"===g.lumberjack||b){if(!k||!m)throw Error("Lumberjack Error: log(channel, data) requires an channel {String} and a payload {String|Object|Number|Boolean}.");for(j={time:new Date,data:c,channel:a,id:f.length},d[a]=d[a]||[],d[a].push(j),f.push(j),e[a]=e[a]||[],i=e[a].length,h=0;i>h;h+=1)e[a][h](c)}},c.clear=function(a){a?d[a]=[]:(d={},f=[])},c.readback=function(a,b){var c="string"==typeof a;if(c)return b?JSON.stringify(d[a],null,4):d[a]||[];throw Error("log.readback(channel, pretty) requires an channel {String}.")},c.readback.master=function(a){return a?JSON.stringify(f,null,4):f},c.readback.channels=function(a){var b=Object.keys(d);return a?JSON.stringify(b):b},c.flush=function(a){var b;return a?(b=d[a],d[a]=[]):(d={},f=[],b=[]),b},c.on=function(a,b){var c="string"==typeof a,d="function"==typeof b;if(!c||!d)throw Error("log.on(channel, cb) requires an channel {String} and a callback {Function}.");e[a]=e[a]||[],e[a].push(b)},c.off=function(a){var b="string"==typeof a;if(!b)throw Error("log.off(channel) requires an channel {String}.");e[a]=[]},c.enable=function(){b=!0},c.disable=function(){b=!1},c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(a,b,c){var d=a("../slot-set.js"),e=a("../group-set.js");b.exports={slot:function(a){d.get(a).enabled=!1},group:function(a){var b,c=e.get(a),d=c.length;for(b=0;d>b;b+=1)c[b].enabled=!1}}},{"../group-set.js":12,"../slot-set.js":16}],7:[function(a,b,c){var d=a("../slot-set.js"),e=a("../group-set.js");b.exports={slot:function(a){d.get(a).enabled=!0},group:function(a){var b,c=e.get(a),d=c.length;for(b=0;d>b;b+=1)c[b].enabled=!0}}},{"../group-set.js":12,"../slot-set.js":16}],8:[function(a,b,c){(function(c){var d=a("../slot-set.js"),e=a("../group-set.js");b.exports=function(){var a,b,e=[],f=d.getAll();for(b in f)a=f[b],a.enabled&&e.push(a);c.googletag.pubads().refresh(e)},b.exports.slot=function(a){var b=d.get(a);!b.mock&&b.enabled&&c.googletag.pubads().refresh([b])},b.exports.group=function(a){var b,d,f=e.get(a),g=f.length,h=[];for(b=0;g>b;b+=1)d=f[b],d.enabled&&h.push(d);c.googletag.pubads().refresh(h)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../group-set.js":12,"../slot-set.js":16}],9:[function(a,b,c){(function(c){var d=a("./log.js"),e=a("./slot-set.js"),f=a("baseclassjs"),g=a("./event-handler.js");b.exports=function(a,b){var h,i,j,k=c.Date.now(),l=b.mapping||[],m=b.companion||!1,n=(b.interstitial||!1,b.targeting||{});if(!c.document.getElementById(b.id))throw c.Error("Ad slot container was not found in the DOM.");h=b.interstitial?c.googletag.defineOutOfPageSlot(b.adunit,b.id):c.googletag.defineSlot(b.adunit,b.sizes,b.id),j=e.cached.callbacks(b.name),b.on=b.on||[];for(i in b.on)j.events[i]=j.events[i]||[],j.events[i]=[].concat(j.events[i],b.on[i]);b.one=b.one||[];for(i in b.one)j.singles[i]=j.singles[i]||[],j.singles[i]=[].concat(j.singles[i],b.one[i]);f(h).extend(g(j)),h.divId=b.id,h.name=b.name,h.group=b.group,h.sizes=b.sizes,h.adunit=b.adunit,h.enabled=b.enabled!==!1;for(i in n)h.setTargeting(i,n[i]);n=e.cached.targeting(b.name);for(i in n)h.setTargeting(i,n[i]);return h.defineSizeMapping(l),"function"==typeof b.callback&&h.on("slotRenderEnded",b.callback),a.addEventListener("slotRenderEnded",function(a){var e;a.slot===h&&(e=c.Date.now(),d("metric",{event:"DFP Call Complete",slot:b.name,timeSinceCalled:e-h.tsCalled,timeSinceCreated:e-k}),h.trigger("slotRenderEnded",a))}),m&&h.addService(c.googletag.companionAds()),h.addService(a),h}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event-handler.js":11,"./log.js":14,"./slot-set.js":16,baseclassjs:3}],10:[function(a,b,c){(function(c){var d,e=a("baseclassjs"),f=a("./event-handler.js"),g=a("./screen.js"),h=!1,i=!0,j=[];b.exports=e({current:function(){var a,b=j.length,c=g.width(),d=j[b-1];for(a=0;b>a;a+=1)if(c>=j[a]){d=j[a];break}return d},add:function(a){j=j.concat(a||[]),j.sort(function(a,b){return b-a}),b.exports.run()},getAll:function(){return j},clear:function(){j=[]},run:function(a){function e(){var a=b.exports.current();a!==d&&(d=a,b.exports.trigger("update",a))}!h&&j.length&&(h=!0,i=!0,c.addEventListener("resize",function(){i&&(i=!1,e(),c.setTimeout(function(){i=!0},a||250))})),e()}}).extend(f())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event-handler.js":11,"./screen.js":15,baseclassjs:3}],11:[function(a,b,c){b.exports=function(a){var b,c={},d={},e={};a=a||{};for(b in a.events)c[b]=[].concat(a.events[b]||[]);for(b in a.singles)d[b]=[].concat(a.singles[b]||[]);return{on:function(a,b,d){!d&&a in e&&b.call(this,e[a].data),c[a]=c[a]||[],c[a].push(b)},one:function(a,b,c){!c&&a in e?b.call(this,e[a].data):(d[a]=d[a]||[],d[a].push(b))},off:function(a){c[a]=[],d[a]=[]},trigger:function(a,b){var f=this;a in c&&c[a].forEach(function(a){a.call(f,b)}),a in d&&(d[a].forEach(function(a){a.call(f,b)}),d[a]=[]),e[a]={data:b}}}}},{}],12:[function(a,b,c){var d=(a("./util.js"),{});b.exports={get:function(a){return d[a]||[]},add:function(a,b){return d[a]=d[a]||[],d[a].push(b),d[a]},clear:function(){d={}}}},{"./util.js":17}],13:[function(a,b,c){(function(c){var d=a("./util.js"),e=a("./adslot.js"),f=a("./log.js"),g=a("./slot-set.js"),h=a("./group-set.js"),i=a("baseclassjs"),j=a("./event-handler.js"),k=a("./breakpoint-watcher.js");b.exports=function(b){return b=b||{},b.forceLog&&f.enable(),f("init","Harmony defined."),i({_create:function(){var a=this;k.on("update",function(b){a.trigger("breakpoint/update",b)});try{c.googletag.pubads().addEventListener("slotRenderEnded",function(b){a.trigger("slotRenderEnded",b)})}catch(b){f("error",'It appears "googletag" is not defined!')}},version:"3.2.0",load:function(a){var b=c.googletag.pubads();a=a||{},a.slots=a.slots||[];var i,j,l,m=a.slots.length;for(f("load","Generating ad slots."),i=0;m>i;i+=1){l=a.slots[i];try{j=e(b,d.scrubConf(l)),g.add(j),h.add(j.group,j)}catch(n){f("error",{msg:"Slot failed to load during call to load().",conf:l,err:n})}}var o,p,q=a.targeting||{};f("load","Applying pubads targeting.");for(o in q)p=q[o],f("load","- "+o+" = "+p),b.setTargeting(o,p);k.add(a.breakpoints),f("load","Harmony config loaded.")},addBreakpoints:k.add,log:f,slot:g.get,hasSlot:g.has,getBreakpoints:k.getAll,group:h.get,defineSlot:function(a){var b;try{b=e(c.googletag.pubads(),d.scrubConf(a)),g.add(b),h.add(a.group,b)}catch(i){f("error",{msg:"Slot failed to load during call to defineSlot()",conf:a,err:i})}return b},enable:a("./actions/enable.js"),disable:a("./actions/disable.js"),refresh:a("./actions/refresh.js"),show:{group:function(a){var b,d,e,g=h.get(a),i=g.length;f("show",{msg:"Showing ads in group",group:a});try{for(b=0;i>b;b+=1)d=g[b],d.tsCalled=c.Date.now(),d.enabled&&c.googletag.display(d.divId),e=document.getElementById(d.divId),e?e.style.display="block":f("error",{msg:"Failed to show slot for group",group:a,reason:"Slot was missing from the DOM",slot:d})}catch(j){f("error",{msg:"Failed to show group",group:a,err:j})}},slot:function(a){var b,d;f("show",{msg:"Showing slot",name:a});try{b=g.get(a),b.tsCalled=c.Date.now(),b.enabled&&c.googletag.display(b.divId),d=document.getElementById(b.divId),d.style.display="block"}catch(e){f("error",{msg:"Failed to show slot",name:a,err:e})}}},hide:{group:function(a){var b,c,d=h.get(a),e=d.length;for(f("hide","Hiding ads in group "+a),b=0;e>b;b+=1)c=document.getElementById(d[b].divId),c?c.style.display="none":f("error",{msg:"Failed to hide slot in group",group:a,reason:"Slot was missing from the DOM",id:d[b].divId})},slot:function(a){var b,c=g.get(a);f("hide",{msg:"Hiding slot",name:a});try{b=document.getElementById(c.divId),b.style.display="none"}catch(d){f("error",{msg:"Failed to hide slot",name:a,err:d})}}}}).extend(j())}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/disable.js":6,"./actions/enable.js":7,"./actions/refresh.js":8,"./adslot.js":9,"./breakpoint-watcher.js":10,"./event-handler.js":11,"./group-set.js":12,"./log.js":14,"./slot-set.js":16,"./util.js":17,baseclassjs:3}],14:[function(a,b,c){var Lumberjack=a("lumberjackjs");b.exports=Lumberjack()},{lumberjackjs:5}],15:[function(a,b,c){(function(a){b.exports={width:function(){return a.innerWidth||a.document.documentElement.clientWidth||a.document.body.clientWidth},height:function(){return a.innerHeight||a.document.documentElement.clientHeight||a.document.body.clientHeight}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(a,b,c){var d=a("./util.js"),e={},f={events:{},singles:{},targ:{}};b.exports={cached:{callbacks:function(a){return{events:f.events[a]||{},singles:f.singles[a]||{}}},targeting:function(a){return f.targ[a]||{}}},get:function(a){return e[a]||{on:function(b,c){f.events[a]=f.events[a]||{},f.events[a][b]=[].concat(f.events[a][b]||[],c)},one:function(b,c){f.singles[a]=f.singles[a]||{},f.singles[a][b]=[].concat(f.singles[a][b]||[],c)},setTargeting:function(b,c){f.targ[a]=f.targ[a]||{},f.targ[a][b]=c},trigger:d.noop,off:d.noop,mock:!0}},add:function(a){e[a.name]=a},getAll:function(){return e},has:function(a){return a in e},clear:function(){e={},f.events={},f.singles={},f.targ={}}}},{"./util.js":17}],17:[function(a,b,c){var d=a("./slot-set.js");b.exports={noop:function(){},slotCount:0,scrubConf:function(a){var b,c,e={el:{}};if(a.drone||d.has(a.name)){do if(c=document.getElementById(a.id)){if(!c.innerHTML)return this.slotCount+=1,b="-h"+this.slotCount,c.id+=b,e.el.id=e.id,a.id=c.id,a.name+=b,a;e.el=c,e.id=c.id,c.id="h-temp"}while(c);throw Error("Ad slot container was not found in the DOM.")}return a}}},{"./slot-set.js":16}]},{},[13])(13)});